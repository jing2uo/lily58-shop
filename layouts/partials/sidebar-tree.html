{{/* layouts/partials/sidebar-tree.html 参数：传入 dict { "section":
<sectionPage
  >, "current":
  <currentPage>
    } */}} {{ $sec := .section }} {{ $current := .current }}

    <ul>
      {{/* 先渲染该 section 下的普通页面（按 weight 排序） */}} {{ range
      $sec.RegularPages.ByWeight }}
      <li>
        <a
          href="{{ .RelPermalink }}"
          class="{{ if eq $current.RelPermalink .RelPermalink }}active{{ end }}"
        >
          {{ .Title }}
        </a>
      </li>
      {{ end }} {{/* 再渲染下一级子 section（递归） */}} {{ range
      $sec.Sections.ByWeight }}
      <li class="section">
        <a
          href="{{ .RelPermalink }}"
          class="{{ if or (eq $current.RelPermalink .RelPermalink) (strings.HasPrefix $current.RelPermalink .RelPermalink) }}active{{ end }}"
        >
          {{ .Title }}
        </a>

        {{/* 递归调用自己来渲染更深层级 */}} {{ partial "sidebar-tree.html"
        (dict "section" . "current" $current) }}
      </li>
      {{ end }}
    </ul>
  </currentPage></sectionPage
>
